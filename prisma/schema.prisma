generator client {
  provider = "prisma-client-js"
}


datasource db {
  provider = "postgresql"
  url      = env("DATABASE_URL")
}



enum TeacherPaymentType {
  FIXED
  PERCENT
}



model TeacherProfile {
  id        String @id @default(uuid())
  userId    String @unique

  firstName String
  lastName  String

  paymentType TeacherPaymentType
  monthlySalary Int?
  percent       Int?

  isActive Boolean @default(true)

  createdAt DateTime @default(now())
  updatedAt DateTime @updatedAt

  deletedAt    DateTime?
  deletedById  String?
  deleteReason String?

  // user User @relation(fields: [userId], references: [id])

  @@index([userId])
}



model StudentProfile {
  id        String @id @default(uuid())
  userId    String @unique

  // ðŸ‘¤ PERSONAL INFO
  firstName String
  lastName  String

  address   String
  idCard    String
  photoUrl  String

  isActive Boolean @default(true)

  createdAt DateTime @default(now())
  updatedAt DateTime @updatedAt

  // Soft delete
  deletedAt    DateTime?
  deletedById  String?
  deleteReason String?

  // user User @relation(fields: [userId], references: [id])

  @@index([userId])
}


model ManagerProfile {
  id        String @id @default(uuid())
  userId    String @unique

  // ðŸ‘¤ PERSONAL INFO
  firstName String
  lastName  String

  note      String?

  // ===== LIFECYCLE =====
  isActive  Boolean @default(true)

  // ===== SOFT DELETE =====
  deletedAt    DateTime?
  deletedById  String?
  deleteReason String?

  createdAt DateTime @default(now())
  updatedAt DateTime @updatedAt

  // user User @relation(fields: [userId], references: [id])

  @@index([userId])
}
